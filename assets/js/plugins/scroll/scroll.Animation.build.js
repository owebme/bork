!function(t,i,s,o){function n(){e.call(this),this.index=0,this.rafWhenVisible=this.rafWhenVisible||!1}t.define("plugins.scroll.BaseComponent");var e=t.commons.EventEmitterMicro,r=e.prototype,a=n.prototype=Object.create(e.prototype);n.prototype.constructor=n,a.destroy=function(){this.teardownEvents(),r.destroy.call(this)},a.setupEvents=function(){},a.teardownEvents=function(){},a.onSectionWillAppear=function(t,i){},a.activate=function(){},a.animateIn=function(){},a.onRequestAnimationFrame=function(){},a.deactivate=function(){},a.onScroll=function(t,i,s){},a.onSectionWillDisappear=function(t,i){},a.onResize=function(t,i,s){},a.onResizeWillBeCalledAfterDelay=function(t,i,s){},a.onBreakpoint=function(t,i,s,o){},t.plugins.scroll.BaseComponent=n}(app,$,app.$dom,app.utils),function(t,i,s,o){function n(t){e.call(this),this.options=t||{},this.min=this.options.min||0,this.max=this.options.max||1,this._boundHandleClockUpdate=this._handleClockUpdate.bind(this),this._boundHandleClockDraw=this._handleClockDraw.bind(this),this.options.easingFunction&&(this.easingFunction=this.options.easingFunction),this.clock=this.options.clock||new r,this.usesSharedClock=this.clock===r,this._isRunning=!1,this.specificity=this.options.specificity||4,this.friction=this.options.friction||10,this._targetValue=null,this._currentValue=null,this._shouldUpdate=!1,this._shouldEmitChange=!1}t.define("plugins.scroll.MotionEmitter");var e=t.commons.EventEmitterMicro,r=t.commons.clock,a=n.prototype=Object.create(e.prototype);a.destroy=function(){this.trigger("destroy"),this.stop(),this.off(),this.usesSharedClock||this.clock.destroy();var t;for(t in this)this.hasOwnProperty(t)&&(this[t]=null);this._isRunning=!1},a.start=function(){this.clock&&!this._isRunning&&(this._bindEvents(),this._isRunning=!0,this.clock.start())},a.stop=function(){this.clock&&this._isRunning&&(this._unbindEvents(),this._isRunning=!1,this.usesSharedClock||this.clock.stop())},a.isRunning=function(){return this._isRunning},a.setProgress=function(t){this._targetValue!==t&&(this._targetValue=t,this._shouldUpdate=!0)},a.updateValue=function(t){null===this._currentValue&&(this._currentValue=this._targetValue);var i=1;if(this.easingFunction){var s=this.max-this.min,o=this.max-(this.max-this._targetValue)/s,n=this.max-(this.max-this._currentValue)/s,e=1-Math.abs(o-n);i=this.easingFunction(e,0,1,1)-e+1}var r=1;t&&t.naturalFps!==t.fps&&(r=t.naturalFps/t.fps);var a=(this._targetValue-this._currentValue)*i*r*(1/this.friction),l=parseFloat((this._currentValue+a).toFixed(this.specificity));l===this._currentValue?this._currentValue=this._targetValue:this._currentValue=l,this._shouldEmitChange=!0},a._bindEvents=function(){this.clock.on("update",this._boundHandleClockUpdate),this.clock.on("draw",this._boundHandleClockDraw)},a._unbindEvents=function(){this.clock.off("update",this._boundHandleClockUpdate),this.clock.off("draw",this._boundHandleClockDraw)},a._handleClockUpdate=function(t){this._shouldUpdate&&this.updateValue(t),this._shouldEmitChange&&(t.progress=this._currentValue,this.trigger("update",t))},a._handleClockDraw=function(t){if(this._shouldEmitChange){if(t.progress=this._currentValue,this.trigger("draw",t),this._targetValue===this._currentValue)return this._shouldUpdate=!1,void(this._shouldEmitChange=!1);this._shouldUpdate=!0}},t.plugins.scroll.MotionEmitter=n}(app,$,app.$dom,app.utils),function(t,i,s,o){function n(t){if("number"!=typeof(t=t||{}).min||"number"!=typeof t.max)return null;e.call(this,t),this.scroll=this.options.scroll||s.window,this.smooth=this.options.smooth||!1,this.options.overrideScroll&&this._bindScrollEvents()}t.define("plugins.scroll.ScrollMotionEmitter");var e=t.plugins.scroll.MotionEmitter,r=n.prototype=Object.create(e.prototype);r.updateValue=function(t){if(this.smooth)return e.prototype.updateValue.call(this,t);this._currentValue!==this._targetValue?(this._currentValue=this._targetValue,this._shouldEmitChange=!0):this._shouldEmitChange=!1},r.handleScroll=function(t){"number"!=typeof t&&(t=window.pageYOffset||(document.documentElement||document.body).scrollTop);var i;i=t<this.min?this.min:t>this.max?this.max:t,i=(i-this.min)/(this.max-this.min);var s=this;this._animationFrame=o.raf(function(){s.setProgress(i)})},r.destroy=function(){return this._boundHandleScroll&&(this.scroll.off("scroll",this._boundHandleScroll),o.caf(this._animationFrame)),e.prototype.destroy.call(this)},r._bindScrollEvents=function(){this._boundHandleScroll=this.handleScroll.bind(this),this.scroll.on("scroll",this._boundHandleScroll)},t.plugins.scroll.ScrollMotionEmitter=n}(app,$,app.$dom,app.utils),function(t,i,s,o){t.define("plugins.scroll.Animation");document.querySelectorAll;var n=t.math.lerp,e=t.dom.getDimensions,r=t.dom.getPagePosition,a=t.plugins.scroll.ScrollMotionEmitter,l={pin:!1,duration:0,delay:0,scrollStart:!1,friction:4,translateTo:[0,0],translateFrom:[0,0],scaleTo:1,scaleFrom:1,rotateTo:0,rotateFrom:0,fadeTo:1,fadeFrom:1,blurTo:0,blurFrom:0,overrideScroll:!1,smooth:!0,scrollMotionEmitter:null},h=["blurTo","blurFrom"],c=["translateTo","translateFrom","scaleTo","scaleFrom","rotateTo","rotateFrom"],u=["fadeTo","fadeFrom"],p=function(t,i){this.el=t,this.options=this._overrideDefaultOptions(i),this.transforms={},this._update=this._update.bind(this),this._memoizeMetrics(),this._setEmitterBounds(),this._initScrollMotionEmitter(),this._setupEvents(),this._isAnimating=!1,this.handleScroll(window.pageYOffset||(document.documentElement||document.body).scrollTop)},m=p.prototype;m.destroy=function(){this._teardownEvents(),this.scrollMotionEmitter.destroy(),this.scrollMotionEmitter=null,this.el=null,this.options=null},m.setOption=function(t,i){this.options[t]=i,"duration"!==t&&"delay"!==t||this._setEmitterBounds()},m.handleScroll=function(t){this.scrollMotionEmitter.handleScroll(t)},m.getTransform=function(t){return this.transforms[t]},m.getOpacity=function(t){return this.opacity},m._overrideDefaultOptions=function(t){var i,s=Object.assign(o.clone(l),t);for(i in t)c.indexOf(i)>-1?this.hasTransform=!0:u.indexOf(i)>-1?this.hasFade=!0:h.indexOf(i)>-1&&(this.hasBlur=!0);return s},m._setEmitterBounds=function(){this.options.scrollStart||0===this.options.scrollStart?this._emitterMin=this.options.scrollStart:this._emitterMin=this.elTop-this.windowHeight+this.options.delay+this.options.translateFrom[1],this._emitterMax=this._emitterMin+this.options.duration,this.scrollMotionEmitter&&(this.scrollMotionEmitter.min=this._emitterMin,this.scrollMotionEmitter.max=this._emitterMax)},m._memoizeMetrics=function(){this.windowHeight=parseInt(window.innerHeight,10),this.elHeight=e(this.el).height,this.elTop=r(this.el).top},m._initScrollMotionEmitter=function(){this.options.scrollMotionEmitter?this.scrollMotionEmitter=this.options.scrollMotionEmitter:this.scrollMotionEmitter=new a({scroll:this.options.scroll,smooth:this.options.smooth,overrideScroll:this.options.overrideScroll,min:this._emitterMin,max:this._emitterMax,friction:this.options.friction}),this.scrollMotionEmitter.isRunning()||this.scrollMotionEmitter.start()},m._setupEvents=function(){this.scrollMotionEmitter.on("draw",this._update)},m._teardownEvents=function(){this.scrollMotionEmitter.off("draw",this._update)},m._setElementTransform=function(){if(this.hasTransform){this.transforms.translateY=n(this._progress,this.options.translateFrom[1],this.options.translateTo[1]),this.transforms.translateX=n(this._progress,this.options.translateFrom[0],this.options.translateTo[0]),this.transforms.rotate=n(this._progress,this.options.rotateFrom,this.options.rotateTo),this.transforms.scale=n(this._progress,this.options.scaleFrom,this.options.scaleTo);var i=1==this.transforms.scale?"":"scale("+this.transforms.scale+","+this.transforms.scale+") ",s=0==this.transforms.rotate?"":" rotate("+this.transforms.rotate+"deg)";this.el.style[t.prefixed.transform]=i+"translate3d("+this.transforms.translateX+"px,"+this.transforms.translateY+"px,0)"+s}},m._setElementOpacity=function(){this.hasFade&&(this.opacity=n(this._progress,this.options.fadeFrom,this.options.fadeTo),this.el.style.opacity=this.opacity)},m._setStatus=function(){this._progress>0&&this._progress<1&&!this._isAnimating?(this._isAnimating=!0,this.el.classList.remove("has-animated"),this.el.classList.remove("has-not-animated"),this.el.classList.add("is-animating")):this._progress>=1&&this._isAnimating?(this._isAnimating=!1,this.el.classList.remove("is-animating"),this.el.classList.remove("has-not-animated"),this.el.classList.add("has-animated")):this._progress<=0&&this._isAnimating&&(this._isAnimating=!1,this.el.classList.remove("is-animating"),this.el.classList.remove("has-animated"),this.el.classList.add("has-not-animated"))},m._update=function(t){isNaN(t.progress)||(this._progress=t.progress,this._setElementTransform(),this._setElementOpacity())},t.plugins.scroll.Animation=p}(app,$,app.$dom,app.utils),function(t,i,s,o){t.define("plugins.scroll.AnimationStarter");var n=t.plugins.scroll.Animation,e=t.math,r=function(t,i){this.hasAnimated=!1,i.stagger||(i.stagger=0),n.apply(this,arguments)},a=r.prototype=Object.create(n.prototype);a._update=function(t){isNaN(t.progress)||this.hasAnimated||((t.progress>this._progress||!this._progress)&&(this._progress=t.progress),this._progress>=1&&(this.hasAnimated=!0),this._setElementTransform(),this._setElementOpacity())},a._setElementOpacity=function(){if(this.hasFade){var t=e.map(this._progress,0,1,-this.options.stagger,40);t/=40,t=Math.max(0,t),this.opacity=e.lerp(t,this.options.fadeFrom,this.options.fadeTo),this.el.style.opacity=this.opacity}},a.destroy=function(){n.prototype.destroy.call(this)},t.plugins.scroll.AnimationStarter=r}(app,$,app.$dom,app.utils),function(t,i,s,o){function n(t){var t=t||{};this.element=t.container?t.container&&o.isElement(t.container)?t.container:t.container[0]:s.body[0],this.scroll=t.scroll||s.window,u.call(this);var n=e.viewport;this.currentBreakpoint=n,this.animations={},this.animateEls=i("[data-animate], [data-scrollin], [data-scrollin-icon]",this.element),this.windowHeight=e.height,this.scrollY=this.scroll.scrollTop(),this.friction=t.friction||9,this.getOptions(),this.rafWhenVisible=!0}t.define("plugins.scroll.AnimationController");var e=t.sizes,r=t.dom.getPagePosition,a=t.dom.getDimensions,l=(document.querySelectorAll,document.querySelector,t.plugins.scroll.Animation),h=t.plugins.scroll.ScrollMotionEmitter,c=t.plugins.scroll.AnimationStarter,u=t.plugins.scroll.BaseComponent,p=t.commons.clockShared.getInstance(),m=u.prototype,d=n.prototype=Object.create(u.prototype);n.prototype.constructor=n,d.getOptions=function(){this.options=this.element.getAttribute("data-sa-options"),this.options?this.options=JSON.parse(this.options):this.options={}},d.determineStartandDuration=function(){var t=r(this.element).top,i=a(this.element).height;this.scrollStart=Math.max(t-this.windowHeight,0),this.duration=t+i-this.scrollStart+(this.options.durationOffset||0)},d.start=function(){var t,i,n,e;for(this.determineStartandDuration(),t=0,i=this.animateEls.length;t<i;t++){if("none"==(n=this.animateEls[t]).style.display)return;e=n.getAttribute("ID")||t,n.hasAttribute("data-scrollin")||n.hasAttribute("data-scrollin-icon")?this.isAboveFold(n)?(n.style.transform="none",n.style.opacity=1):this.animations[e]=this.createExperienceScrollAnimation(n):this.animations[e]=this.createScrollAnimation(n)}var r=this,a=o.debounce(this.onResize,300);s.window.on("orientationchange",function(){a.call(r)}),this.scroll.on("resize",function(){a.call(r)})},d.isAboveFold=function(t){return this.scrollY>r(t).top-this.windowHeight},d.grabTranslatesForBreakpoint=function(t){return t[this.currentBreakpoint.replace("x","").split("")[0]]},d.grabFadeForBreakpoint=function(t){if("number"==typeof t)return t;var i=this.currentBreakpoint.replace("x","").split("")[0];return t.l?(t.m||(t.m=t.l),t.s||(t.s=t.m),t[i]):1},d._getEmitterInstance=function(t){var i=this.element.getAttribute("ID");return this.emitters||(this.emitters={}),this.emitters[i]?this.emitters[i]:(this.emitters[i]=this._createEmitterInstance(t),this.emitters[i])},d._createEmitterInstance=function(t){var i=new h({scroll:this.scroll,smooth:!0,overrideScroll:!0,min:t.scrollStart,max:t.scrollStart+t.duration,friction:this.friction,clock:p});return i.start(),i},d.createScrollAnimation=function(t){var i=JSON.parse(t.getAttribute("data-animate"));return i=this.configureOptions(i),i.scrollMotionEmitter=this._getEmitterInstance(i),new l(t,i)},d.createExperienceScrollAnimation=function(t){var s,o,n,e,a;if(t.hasAttribute("data-scrollin-icon")){var l=i(t).closest(".headline-icons")[0];s=r(l).top,o=t.getAttribute("data-scrollin-icon"),n=!0}else s=r(t).top,o=t.getAttribute("data-scrollin"),n=!1;return o&&(o=o.replace(/'/gi,'"'),e=JSON.parse(o)),a={},a.fadeFrom=.1,a.translateFrom={l:[0,40],m:[0,40],s:[0,30]},a.duration=240,a.stagger=0,"small"==this.currentBreakpoint&&(a.duration=140),n&&(a.translateFrom={l:[0,30],m:[0,25],s:[0,25]},a.duration=110),e&&e.stagger&&(a.stagger=.4*e.stagger),a=this.configureOptions(a),1,a.duration=1*a.duration,a.translateFrom[1]=a.translateFrom[1]+1*a.stagger,a.scrollStart=s-this.windowHeight+a.translateFrom[1],a.scroll=this.scroll,new c(t,a)},d.createKeyboardSnapAnimation=function(t){var i=JSON.parse(t.getAttribute("data-animate"));return i=this.configureOptions(i),i.duration=a(this.element).height+100,new J(t,i)},d.createFlexibleImageAnimation=function(t){var i=JSON.parse(t.getAttribute("data-animate"));return i=this.configureOptions(i),new N(t,i)},d.configureOptions=function(t){return t.overrideScroll=!0,t.duration||(t.duration=this.duration),t.scrollStart||(t.scrollStart=this.scrollStart),t.translateTo&&(t.translateTo=this.grabTranslatesForBreakpoint(t.translateTo)),t.translateFrom&&(t.translateFrom=this.grabTranslatesForBreakpoint(t.translateFrom)),t.fadeTo&&(t.fadeTo=this.grabFadeForBreakpoint(t.fadeTo)),t.fadeFrom&&(t.fadeFrom=this.grabFadeForBreakpoint(t.fadeFrom)),t.friction||(t.friction=this.friction),t},d.destroy=function(){for(var t in this.animations)this.animations[t].el.setAttribute("style",""),this.animations[t].destroy();this.scroll.off(),s.window.off("orientationchange")},d.onSectionWillAppear=function(t,i){m.onSectionWillAppear.call(this,t,i)},d.onRequestAnimationFrame=function(){m.onRequestAnimationFrame.call(this);for(var t in this.animations)this.animations[t].handleScroll(this.scrollPosition)},d.onScroll=function(t,i,s){this.scrollY=i,m.onScroll.call(this,t,i,s)},d.onSectionWillDisappear=function(t,i){m.onSectionWillDisappear.call(this,t,i)},d.onResize=function(){this.windowHeight=e.height;for(var t in this.animations)this.animations[t]._teardownEvents(),this.animations[t].el=null,this.animations[t].options=null,this.animations[t]=null;this.animations={},this.emitters=null,this.start();for(var t in this.animations)this.animations[t].handleScroll(this.scrollPosition)},d.onBreakpoint=function(t,i,s,o){this.currentBreakpoint=t},t.plugins.scroll.AnimationController=n}(app,$,app.$dom,app.utils);